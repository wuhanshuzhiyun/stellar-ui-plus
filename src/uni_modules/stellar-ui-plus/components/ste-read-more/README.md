# ReadMore 展开更多

该组件一般用于内容较长，预先收起一部分，点击展开全部内容的场景

---$

### 代码演示

#### 基础使用

```html
<view>
    <ste-read-more>{{ moreStr }}</ste-read-more>
</view>
<script lang="ts" setup>
    const moreStr = ref(
        '浔阳江头夜送客，枫叶荻花秋瑟瑟。主人下马客在船，举酒欲饮无管弦。醉不成欢惨将别，别时茫茫江浸月。 忽闻水上琵琶声，主人忘归客不发。寻声暗问弹者谁，琵琶声停欲语迟。移船相近邀相见，添酒回灯重开宴。千呼万唤始出来，犹抱琵琶半遮面。凝绝不通声暂歇。悄无言，唯见江心秋月白。 沉吟放拨插弦中，整顿衣裳起敛容。自言本是京城女，家在虾蟆陵下住。十三学得琵琶成，名属教坊第一部。曲罢曾教善才服，妆成每被秋娘妒。五陵年少争缠头，一曲红绡不知数。钿头银篦击节碎，血色罗裙翻酒污。今年欢笑复明年，秋月春风等闲度。弟走从军阿姨死，暮去朝来颜色故'
    );
</script>
```

#### 收起后展示按钮

```html
<view>
    <ste-read-more toggle>{{ moreStr }}</ste-read-more>
</view>
<script lang="ts" setup>
    const moreStr = ref(
        '浔阳江头夜送客，枫叶荻花秋瑟瑟。主人下马客在船，举酒欲饮无管弦。醉不成欢惨将别，别时茫茫江浸月。 忽闻水上琵琶声，主人忘归客不发。寻声暗问弹者谁，琵琶声停欲语迟。移船相近邀相见，添酒回灯重开宴。千呼万唤始出来，犹抱琵琶半遮面。凝绝不通声暂歇。悄无言，唯见江心秋月白。 沉吟放拨插弦中，整顿衣裳起敛容。自言本是京城女，家在虾蟆陵下住。十三学得琵琶成，名属教坊第一部。曲罢曾教善才服，妆成每被秋娘妒。五陵年少争缠头，一曲红绡不知数。钿头银篦击节碎，血色罗裙翻酒污。今年欢笑复明年，秋月春风等闲度。弟走从军阿姨死，暮去朝来颜色故'
    );
</script>
```

#### 提示文字

```html
<view>
    <ste-read-more toggle openText="收起吧" closeText="展开吧" color="#f1f" fontSize="32">{{ moreStr }}</ste-read-more>
</view>
<script lang="ts" setup>
    const moreStr = ref(
        '浔阳江头夜送客，枫叶荻花秋瑟瑟。主人下马客在船，举酒欲饮无管弦。醉不成欢惨将别，别时茫茫江浸月。 忽闻水上琵琶声，主人忘归客不发。寻声暗问弹者谁，琵琶声停欲语迟。移船相近邀相见，添酒回灯重开宴。千呼万唤始出来，犹抱琵琶半遮面。凝绝不通声暂歇。悄无言，唯见江心秋月白。 沉吟放拨插弦中，整顿衣裳起敛容。自言本是京城女，家在虾蟆陵下住。十三学得琵琶成，名属教坊第一部。曲罢曾教善才服，妆成每被秋娘妒。五陵年少争缠头，一曲红绡不知数。钿头银篦击节碎，血色罗裙翻酒污。今年欢笑复明年，秋月春风等闲度。弟走从军阿姨死，暮去朝来颜色故'
    );
</script>
```

#### 异步初始化

有时候需要展示的内容是从后端获取的，组件内部的`mounted`生命周期初始化时，请求尚未回来，会导致 内容的高度在初始化有误差。可以在请求完毕渲染后(指的是this.$nextTick)，通过`ref`调用组件的`init`方法，重新初始化

```html
<view>
    <ste-read-more ref="steReadMore">{{ moreStr }}</ste-read-more>
</view>
<script lang="ts" setup>
    import { ref, nextTick } from 'vue';
    import type { RefReadMore } from '@/uni_modules/stellar-ui-plus/types/refComponents';

    const moreStr = ref(
        '浔阳江头夜送客，枫叶荻花秋瑟瑟。主人下马客在船，举酒欲饮无管弦。醉不成欢惨将别，别时茫茫江浸月。 忽闻水上琵琶声，主人忘归客不发。寻声暗问弹者谁，琵琶声停欲语迟。移船相近邀相见，添酒回灯重开宴。千呼万唤始出来，犹抱琵琶半遮面。凝绝不通声暂歇。悄无言，唯见江心秋月白。 沉吟放拨插弦中，整顿衣裳起敛容。自言本是京城女，家在虾蟆陵下住。十三学得琵琶成，名属教坊第一部。曲罢曾教善才服，妆成每被秋娘妒。五陵年少争缠头，一曲红绡不知数。钿头银篦击节碎，血色罗裙翻酒污。今年欢笑复明年，秋月春风等闲度。弟走从军阿姨死，暮去朝来颜色故'
    );
    const moreStr3 = ref('');

    const readMoreRef = ref<RefReadMore>();

    setTimeout(() => {
        moreStr3.value = moreStr.value;
        nextTick(() => {
            readMoreRef.value?.init();
        });
    }, 1500);
</script>
```

---$

### API

<!-- props -->

#### Slots

| 插槽名    | 说明           | 插槽参数 | 支持版本 |
| --------- | -------------- | -------- | -------- |
| `default` | 单选框文本内容 | -        | -        |

#### Methods

| 方法名 | 说明                                                       | 方法参数 | 支持版本 |
| ------ | ---------------------------------------------------------- | -------- | -------- |
| `init` | 重新初始化组件内部高度计算过程，如果是异步获取内容需要用到 | -        | -        |

---$
{{fuyuwei}}
